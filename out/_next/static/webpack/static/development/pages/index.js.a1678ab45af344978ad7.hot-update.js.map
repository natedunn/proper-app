{"version":3,"file":"static/webpack/static/development/pages/index.js.a1678ab45af344978ad7.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["// Deps\nimport React, { Component, Fragment } from 'react';\nimport Link from 'next/link';\n// Components\nimport Head from 'component/head';\nimport Nav from 'component/nav';\nimport Search from 'component/search';\nimport Queue from 'component/queue';\nimport Button from 'component/button';\n// Theme\nimport styled from 'styled-components';\nimport tw from 'tailwindcss/defaultTheme';\n// Imported\nimport { getData } from '../utils/fetch';\nimport { generateZip } from '../utils/helper';\n\n// ? Does this belong here?\nconst pageInfo = {\n  title: 'Proper | Generate Your Scripts',\n};\n\nconst Container = styled.div`\n  max-width: ${tw.maxWidth['4xl']};\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      term: '',\n      origin: {},\n      queue: [],\n      results: [],\n      loading: false,\n    };\n    this.deleteItem = this.deleteItem.bind(this);\n  }\n\n  resetResults = () => {\n    this.setState({\n      results: [],\n    });\n  };\n\n  resetTerm = () => {\n    this.setState({\n      term: '',\n    });\n  };\n\n  resetQueue = () => {\n    this.setState({\n      queue: [],\n    });\n  };\n\n  onOriginChange = event => {\n    const { target } = event;\n    const selectedValue = target.value;\n    const selectedText = target.options[target.selectedIndex].text;\n    if (selectedValue) {\n      this.setState({\n        origin: {\n          name: selectedText,\n          id: selectedValue,\n        },\n      });\n    }\n    this.resetResults();\n    this.resetTerm();\n  };\n\n  handleSearchChange = event => {\n    const { origin } = this.state;\n    const { value } = event.target;\n    this.setState({ term: value.trim(), loading: true });\n    if (!value.trim().length) {\n      this.resetResults();\n    } else {\n      this.resetResults();\n      getData(value.trim(), origin.id).then(results => {\n        if (results && results.length)\n          this.setState({ results, loading: false });\n      });\n    }\n  };\n\n  addToQueue = item => {\n    const { origin, queue } = this.state;\n    const { name, ver } = item;\n    this.setState({\n      queue: [\n        ...queue,\n        {\n          ...queue[name],\n          name,\n          origin,\n          ver,\n        },\n      ],\n    });\n    this.setState({\n      term: '',\n      results: [],\n    });\n  };\n\n  deleteItem = key => {\n    const { queue } = this.state;\n    this.setState({\n      queue: queue.filter((_, i) => i !== key),\n    });\n  };\n\n  render() {\n    const { queue } = this.state;\n    return (\n      <>\n        <Head title={pageInfo.title} />\n        <Nav />\n        <Container>\n          <div className=\"text-center mt-16 mb-12\">\n            <h1 className=\"text-4xl font-medium mb-2\">\n              Work with your machine, not against it.\n            </h1>\n            <div>\n              Get started by creating your script below or directly{' '}\n              <Link href=\"https://github.com/useproper/proper\">\n                <a className=\"text-purple-600 tracking-wide hover:text-purple-800 border-b-2 border-purple-200 hover:border-purple-400\">\n                  forking the repo\n                </a>\n              </Link>\n              .\n            </div>\n          </div>\n\n          <Search\n            {...this.state}\n            addToQueue={this.addToQueue}\n            handleSearchChange={this.handleSearchChange}\n            handleSearchKeyDown={this.handleSearchKeyDown}\n            onOriginChange={this.onOriginChange}\n          />\n          <Queue\n            items={queue}\n            deleteItem={this.deleteItem}\n            generateZip={generateZip}\n          />\n          <div className=\"text-sm mt-6 text-center text-gray-600\">\n            Made by{' '}\n            <Link prefetch href=\"https://twitter.com/natedunn\">\n              <a className=\"text-purple-600 tracking-wide hover:text-purple-800 border-b-2 border-purple-200 hover:border-purple-400\">\n                @natedunn\n              </a>\n            </Link>\n          </div>\n        </Container>\n      </>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AAIA;AAAA;AAAA;AAAA;AACA;AAKA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAaA;AACA;AADA;AAGA;AACA;AAjBA;AAmBA;AACA;AADA;AAGA;AACA;AAvBA;AAyBA;AACA;AADA;AAGA;AACA;AA7BA;AA8BA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AAAA;AACA;AAAA;AACA;AACA;AA7CA;AA8CA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AA5DA;AA6DA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAIA;AACA;AACA;AANA;AADA;AACA;AAUA;AACA;AACA;AAFA;AAIA;AACA;AAhFA;AAiFA;AACA;AACA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AArFA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AATA;AAUA;AACA;;;AA6EA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAtIA;AACA;;;;;A","sourceRoot":""}